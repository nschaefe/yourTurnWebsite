import"../chunks/DsnmJJEf.js";import{i as se}from"../chunks/DhJbufK5.js";import{a as xt,l as Ne,e as N,o as At,s as St}from"../chunks/BiApfhNE.js";import{v as It,w as D,x as Pt,h as o,R as et,y as Et,H as Mt,z as Ge,A as ke,B as ye,K as ae,ab as Nt,af as Rt,D as Ie,G as jt,F as ee,aB as Ke,C as tt,ax as R,aC as Ye,aj as at,a8 as Dt,aD as ue,I as rt,J as Lt,aE as ce,aF as Ht,aG as Te,aH as lt,ad as Ot,aI as Wt,ai as Ft,aJ as qt,X as zt,aa as Bt,aK as nt,N as Pe,aL as Vt,aM as Ut,aN as Gt,aO as Kt,M as Re,aP as Yt,a6 as Jt,aQ as Xt,e as it,p as fe,l as U,t as oe,a as O,m as ve,V as _,n as x,q as y,aR as Ce,o as T,f as Ee,aS as X,aA as Je}from"../chunks/BP_LslGO.js";import{p as L,i as Q,b as Qt}from"../chunks/BJ6pa5lZ.js";function ot(e,t){return t}function Zt(e,t,a){for(var r=e.items,l=[],i=t.length,n=0;n<i;n++)Wt(t[n].e,l,!0);var d=i>0&&l.length===0&&a!==null;if(d){var m=a.parentNode;Ft(m),m.append(a),r.clear(),V(e,t[0].prev,t[i-1].next)}qt(l,()=>{for(var u=0;u<i;u++){var g=t[u];d||(r.delete(g.k),V(e,g.prev,g.next)),lt(g.e,!d)}})}function st(e,t,a,r,l,i=null){var n=e,d={flags:t,items:new Map,first:null},m=(t&nt)!==0;if(m){var u=e;n=D?ke(Bt(u)):u.appendChild(tt())}D&&Pt();var g=null,C=!1,w=new Map,S=et(()=>{var A=a();return Dt(A)?A:A==null?[]:at(A)}),c,f;function b(){$t(f,c,d,w,n,l,t,r,a),i!==null&&(c.length===0?g?rt(g):g=Ie(()=>i(n)):g!==null&&Lt(g,()=>{g=null}))}It(()=>{f??=zt,c=o(S);var A=c.length;if(C&&A===0)return;C=A===0;let I=!1;if(D){var M=Et(n)===Mt;M!==(A===0)&&(n=Ge(),ke(n),ye(!1),I=!0)}if(D){for(var j=null,p,v=0;v<A;v++){if(ae.nodeType===Nt&&ae.data===Rt){n=ae,I=!0,ye(!1);break}var h=c[v],P=r(h,v);p=Me(ae,d,j,null,h,P,v,l,t,a),d.items.set(P,p),j=p}A>0&&ke(Ge())}if(D)A===0&&i&&(g=Ie(()=>i(n)));else if(jt()){var q=new Set,z=ee;for(v=0;v<A;v+=1){h=c[v],P=r(h,v);var B=d.items.get(P)??w.get(P);B?(t&(ce|ue))!==0&&ut(B,h,v,t):(p=Me(null,d,null,null,h,P,v,l,t,a,!0),w.set(P,p)),q.add(P)}for(const[H,Z]of d.items)q.has(H)||z.skipped_effects.add(Z.e);z.add_callback(b)}else b();I&&ye(!0),o(S)}),D&&(n=ae)}function $t(e,t,a,r,l,i,n,d,m){var u=(n&Vt)!==0,g=(n&(ce|ue))!==0,C=t.length,w=a.items,S=a.first,c=S,f,b=null,A,I=[],M=[],j,p,v,h;if(u)for(h=0;h<C;h+=1)j=t[h],p=d(j,h),v=w.get(p),v!==void 0&&(v.a?.measure(),(A??=new Set).add(v));for(h=0;h<C;h+=1){if(j=t[h],p=d(j,h),v=w.get(p),v===void 0){var P=r.get(p);if(P!==void 0){r.delete(p),w.set(p,P);var q=b?b.next:c;V(a,b,P),V(a,P,q),we(P,q,l),b=P}else{var z=c?c.e.nodes_start:l;b=Me(z,a,b,b===null?a.first:b.next,j,p,h,i,n,m)}w.set(p,b),I=[],M=[],c=b.next;continue}if(g&&ut(v,j,h,n),(v.e.f&Te)!==0&&(rt(v.e),u&&(v.a?.unfix(),(A??=new Set).delete(v))),v!==c){if(f!==void 0&&f.has(v)){if(I.length<M.length){var B=M[0],H;b=B.prev;var Z=I[0],te=I[I.length-1];for(H=0;H<I.length;H+=1)we(I[H],B,l);for(H=0;H<M.length;H+=1)f.delete(M[H]);V(a,Z.prev,te.next),V(a,b,Z),V(a,te,B),c=B,b=te,h-=1,I=[],M=[]}else f.delete(v),we(v,c,l),V(a,v.prev,v.next),V(a,v,b===null?a.first:b.next),V(a,b,v),b=v;continue}for(I=[],M=[];c!==null&&c.k!==p;)(c.e.f&Te)===0&&(f??=new Set).add(c),M.push(c),c=c.next;if(c===null)continue;v=c}I.push(v),b=v,c=v.next}if(c!==null||f!==void 0){for(var Y=f===void 0?[]:at(f);c!==null;)(c.e.f&Te)===0&&Y.push(c),c=c.next;var $=Y.length;if($>0){var de=(n&nt)!==0&&C===0?l:null;if(u){for(h=0;h<$;h+=1)Y[h].a?.measure();for(h=0;h<$;h+=1)Y[h].a?.fix()}Zt(a,Y,de)}}u&&Pe(()=>{if(A!==void 0)for(v of A)v.a?.apply()}),e.first=a.first&&a.first.e,e.last=b&&b.e;for(var re of r.values())lt(re.e);r.clear()}function ut(e,t,a,r){(r&ce)!==0&&Ke(e.v,t),(r&ue)!==0?Ke(e.i,a):e.i=a}function Me(e,t,a,r,l,i,n,d,m,u,g){var C=(m&ce)!==0,w=(m&Ht)===0,S=C?w?R(l,!1,!1):Ye(l):l,c=(m&ue)===0?n:Ye(n),f={i:c,v:S,k:i,a:null,e:null,prev:a,next:r};try{if(e===null){var b=document.createDocumentFragment();b.append(e=tt())}return f.e=Ie(()=>d(e,S,c,u),D),f.e.prev=a&&a.e,f.e.next=r&&r.e,a===null?g||(t.first=f):(a.next=f,a.e.next=f.e),r!==null&&(r.prev=f,r.e.prev=f.e),f}finally{}}function we(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,l=t?t.e.nodes_start:a,i=e.e.nodes_start;i!==null&&i!==r;){var n=Ot(i);l.before(i),i=n}}function V(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function ea(e,t){return e==null?null:String(e)}function W(e,t,a,r){var l=e.__style;if(D||l!==t){var i=ea(t);(!D||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}return r}const ta=Symbol("is custom element"),aa=Symbol("is html");function ie(e){if(D){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Xe(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var l=e.checked;Xe(e,"checked",null),e.checked=l}}};e.__on_r=a,Ut(a),xt()}}function Xe(e,t,a,r){var l=ra(e);D&&(l[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||l[t]!==(l[t]=a)&&(t==="loading"&&(e[Gt]=a),e.removeAttribute(t))}function ra(e){return e.__attributes??={[ta]:e.nodeName.includes("-"),[aa]:e.namespaceURI===Kt}}function la(e,t,a=t){var r=Xt(),l=new WeakSet;Ne(e,"input",i=>{var n=i?e.defaultValue:e.value;if(n=Ae(e)?Se(n):n,a(n),ee!==null&&l.add(ee),r&&n!==(n=t())){var d=e.selectionStart,m=e.selectionEnd;e.value=n??"",m!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(m,e.value.length))}}),(D&&e.defaultValue!==e.value||it(t)==null&&e.value)&&(a(Ae(e)?Se(e.value):e.value),ee!==null&&l.add(ee)),Re(()=>{var i=t();e===document.activeElement&&l.has(ee)||Ae(e)&&i===Se(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const xe=new Set;function Qe(e,t,a,r,l=r){var i=a.getAttribute("type")==="checkbox",n=e;let d=!1;if(t!==null)for(var m of t)n=n[m]??=[];n.push(a),Ne(a,"change",()=>{var u=a.__value;i&&(u=Ze(n,u,a.checked)),l(u)},()=>l(i?[]:null)),Re(()=>{var u=r();if(D&&a.defaultChecked!==a.checked){d=!0;return}i?(u=u||[],a.checked=u.includes(a.__value)):a.checked=Yt(a.__value,u)}),Jt(()=>{var u=n.indexOf(a);u!==-1&&n.splice(u,1)}),xe.has(n)||(xe.add(n),Pe(()=>{n.sort((u,g)=>u.compareDocumentPosition(g)===4?-1:1),xe.delete(n)})),Pe(()=>{if(d){var u;if(i)u=Ze(n,u,a.checked);else{var g=n.find(C=>C.checked);u=g?.__value}l(u)}})}function na(e,t,a=t){Ne(e,"change",r=>{var l=r?e.defaultChecked:e.checked;a(l)}),(D&&e.defaultChecked!==e.checked||it(t)==null)&&a(e.checked),Re(()=>{var r=t();e.checked=!!r})}function Ze(e,t,a){for(var r=new Set,l=0;l<e.length;l+=1)e[l].checked&&r.add(e[l].__value);return a||r.delete(t),Array.from(r)}function Ae(e){var t=e.type;return t==="number"||t==="range"}function Se(e){return e===""?null:+e}var ia=U("<button></button>");function oa(e,t){fe(t,!1);let a=L(t,"color",8,"#fff"),r=L(t,"border",8,!1),l=L(t,"onClick",8),i=L(t,"onLongpress",8),n=R();function d(g){_(n,setTimeout(()=>i()&&i()(),500))}function m(g){clearTimeout(o(n)),l()&&l()()}se();var u=ia();oe(()=>W(u,`background:${a()??""}; border:${r()?"3px solid #000":"none"}; width:40px; height:40px; margin:2px; border-radius:8px;`)),N("pointerdown",u,d),N("pointerup",u,m),N("pointerleave",u,()=>clearTimeout(o(n))),O(e,u),ve()}var sa=U('<input class="dialog-input svelte-19e2bah" type="number" placeholder="Seconds to go" min="1"/> <label class="dialog-checkbox svelte-19e2bah"><input type="checkbox"/> With alarm on timeout</label>',1),ua=U('<div class="dialog-backdrop svelte-19e2bah"><div class="dialog svelte-19e2bah"><h2 style="margin-bottom:1.2em; font-size:1.3em; font-weight:600; letter-spacing:0.01em;">Choose timer</h2> <div class="dialog-controls svelte-19e2bah"><label class="dialog-radio svelte-19e2bah"><input type="radio"/> With timeout</label> <label class="dialog-radio svelte-19e2bah"><input type="radio"/> Without timeout</label> <!></div> <div class="dialog-actions svelte-19e2bah"><button>Cancel</button> <button>Ok</button></div></div></div>');function ca(e,t){fe(t,!1);const a=[];let r=L(t,"onClose",8),l=L(t,"onStart",8),i=R(0),n=R(""),d=R(!0);function m(){if(o(i)===0){const p=parseInt(o(n));if(isNaN(p)||p<=0)return;l()&&l()({type:"down",seconds:p,hasAlarm:o(d)})}else l()&&l()({type:"up",seconds:0,hasAlarm:o(d)})}se();var u=ua(),g=x(u),C=y(x(g),2),w=x(C),S=x(w);ie(S),S.value=S.__value=0,Ce(),T(w);var c=y(w,2),f=x(c);ie(f),f.value=f.__value=1,Ce(),T(c);var b=y(c,2);{var A=p=>{var v=sa(),h=Ee(v);ie(h);var P=y(h,2),q=x(P);ie(q),Ce(),T(P),la(h,()=>o(n),z=>_(n,z)),na(q,()=>o(d),z=>_(d,z)),O(p,v)};Q(b,p=>{o(i)==0&&p(A)})}T(C);var I=y(C,2),M=x(I),j=y(M,2);T(I),T(g),T(u),Qe(a,[],S,()=>o(i),p=>_(i,p)),Qe(a,[],f,()=>o(i),p=>_(i,p)),N("click",M,()=>r()()),N("click",j,m),O(e,u),ve()}var fa=U("<button></button>"),va=U('<div class="dialog-backdrop svelte-i1awfa"><div class="dialog svelte-i1awfa"><h2>Pick a color</h2> <div class="color-grid svelte-i1awfa"></div> <div style="margin-top:1em;"><button>Cancel</button></div></div></div>');function da(e,t){fe(t,!1);let a=L(t,"colors",24,()=>[]),r=L(t,"current",8,0),l=L(t,"onPick",8),i=L(t,"onClose",8);se();var n=va(),d=x(n),m=y(x(d),2);st(m,5,a,ot,(C,w,S)=>{var c=fa();oe(()=>W(c,`background:${o(w)??""}; width:40px; height:40px; border-radius:8px; border:${S===r()?"3px solid #000":"none"}; margin:2px;`)),N("click",c,()=>l()(S)),O(C,c)}),T(m);var u=y(m,2),g=x(u);T(u),T(d),T(n),N("click",g,()=>i()()),O(e,n),ve()}var ha=U('<div class="dialog-backdrop svelte-1ue2njz"><div class="dialog svelte-1ue2njz"><h2>Help</h2> <ul style="padding-left:1.2em;"><li>Press on the main screen to move to the next player.</li> <li>Add/remove players by using the + and - buttons on the right.</li> <li>Press on the player buttons to directly select a player.</li> <li>Long press on the player buttons to switch colors.</li> <li>Use "Set Timer", "Pause Timer", "Resume Timer", "Cancel Timer" to control the timer.</li> <li>"Reset" resets everything to the initial state.</li></ul> <div style="margin-top:1em;"><button>Got it!</button></div></div></div>');function _a(e,t){let a=L(t,"onClose",8);var r=ha(),l=x(r),i=y(x(l),2),n=y(x(i),2);W(n,"margin-top: 5px;");var d=y(n,2);W(d,"margin-top: 5px;");var m=y(d,2);W(m,"margin-top: 5px;");var u=y(m,2);W(u,"margin-top: 5px;");var g=y(u,2);W(g,"margin-top: 5px;"),T(i);var C=y(i,2),w=x(C);T(C),T(l),T(r),N("click",w,function(...S){a()?.apply(this,S)}),O(e,r)}var ma=U('<div class="dialog-backdrop svelte-1ue2njz"><div class="dialog svelte-1ue2njz"><h2>Please Confirm</h2> <p>Defaults will be restored. Player count will be reset to 2.</p> <div style="margin-top:1em;"><button>Cancel</button> <button>Ok</button></div></div></div>');function ba(e,t){let a=L(t,"onClose",8),r=L(t,"onReset",8);var l=ma(),i=x(l),n=y(x(i),4),d=x(n),m=y(d,2);T(n),T(i),T(l),N("click",d,function(...u){a()?.apply(this,u)}),N("click",m,function(...u){r()?.apply(this,u)}),O(e,l)}class $e{intervalId=null;seconds=0;type="down";paused=!1;hasAlarm=!1;onTick=()=>{};onTimeout=()=>{};constructor(t,a,r,l,i){this.type=t,this.seconds=a,this.hasAlarm=r,this.onTick=l,this.onTimeout=i}start(){this.paused=!1,this.clear();let t=this.type==="down"?this.seconds:0;this.onTick(t),this.intervalId=setInterval(()=>{this.paused||(this.type==="down"?(t--,t<=0?(this.onTick(0),this.clear(),this.onTimeout()):this.onTick(t)):(t++,this.onTick(t)))},1e3)}reset(){this.clear();let t=this.type==="down"?this.seconds:0;this.onTick(t)}stop(){this.clear()}togglePause(){this.paused=!this.paused}clear(){this.intervalId!==null&&(clearInterval(this.intervalId),this.intervalId=null)}}var ga=U('<button class="svelte-7556jj">Pause/Resume Timer</button> <button class="svelte-7556jj">Cancel Timer</button>',1),pa=U('<button class="svelte-7556jj">Set Timer</button>'),ka=U('<audio src="/yourTurnWebsite/ringtone.mp3" preload="auto" style="display:none"></audio> <main class="svelte-7556jj"><header class="svelte-7556jj"><!> <button class="svelte-7556jj">Reset</button> <button class="svelte-7556jj">Help</button></header> <section style="display: flex; height: 80vh;"><button type="button" style="flex:1; display:flex; align-items:center; justify-content:center; background:transparent; border:none; padding:0; cursor:pointer;" aria-label="Next player"><span class="timer-display svelte-7556jj"><!></span></button> <aside style="width: 180px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:0.5rem;" class="svelte-7556jj"><button class="svelte-7556jj">+</button> <!> <button class="svelte-7556jj">-</button></aside></section> <!> <!> <!> <!></main>',1);function Aa(e,t){fe(t,!1);const a=["#3f51b5","#f44336","#4caf50","#ff9800","#00bcd4","#9e9e9e","#ffeb3b","#9c27b0","#795548","#fff"];let r=R([0,1]),l=R(0),i="down",n=0,d=!0,m=R(0),u=R(!1),g=R(!1),C=R(!1),w=R(!1),S=R(0),c=new $e(i,n,d,re,je),f=R(),b=R(!1),A=!1,I=R(!1),M=null,j=null,p=R(!1);function v(){return a[o(r)[o(l)]]}function h(){const s=v();if(!s)return"#000";const k=s.charAt(0)==="#"?s.substring(1):s,E=parseInt(k.length===3?k.split("").map(Ue=>Ue+Ue).join(""):k,16),F=E>>16&255,G=E>>8&255,J=E&255;return .2126*F/255+.7152*G/255+.0722*J/255>.5?"#000":"#fff"}function P(){o(r).length<a.length&&_(r,[...o(r).slice(0,o(l)+1),z(),...o(r).slice(o(l)+1)])}function q(){o(r).length>2&&(_(r,o(r).filter((s,k)=>k!==o(l))),_(l,Math.min(o(l),o(r).length-1)))}function z(){let s=0;for(;o(r).includes(s);)s++;return s}function B(s){_(l,s%o(r).length),o(b)&&(c.reset(),_(m,i==="down"?n:0),c.start())}function H(){B(o(l)+1),o(b)&&(c.reset(),_(m,i==="down"?n:0),c.start()),_e(),he()}function Z(s,k){X(r,o(r)[s]=k)}function te(){_(r,[0,1]),_(l,0),n=0,_(m,0),c.reset(),c.stop(),_(b,!1),_e()}function Y(s){if(s===0)return"0";const k=Math.floor(s/3600),E=Math.floor(s%3600/60),F=s%60;let G=[k,E,F],J=[];for(let K=G.length-1;K>=0;K--)K-1>=0&&G[K-1]!==0?J.unshift(G[K].toString().padStart(2,"0")):G[K]!==0&&J.unshift(G[K].toString());return J.join(":")}async function $(){try{"wakeLock"in navigator&&await navigator.wakeLock.request("screen")}catch(s){console.error("WakeLock error:",s)}}function de(s,k,E){i=s,n=k,d=E,_(m,s==="down"?k:0),_(u,!1),c=new $e(i,n,d,re,je),c.reset(),c.start(),_(b,!0),$()}function re(s){_(m,s)}function je(){d&&(A?ct():ft())}function ct(){_(I,!0),_(p,!1),M=window.setInterval(()=>{_(p,!o(p))},500),j=window.setTimeout(()=>{he()},1e4)}function he(){_(I,!1),M&&(clearInterval(M),M=null),j&&(clearTimeout(j),j=null)}function ft(){o(f)&&(X(f,o(f).loop=!0),X(f,o(f).currentTime=0),o(f).play()),o(f)&&(X(f,o(f).loop=!0),X(f,o(f).currentTime=0),o(f).play())}function _e(){o(f)&&(o(f).pause(),X(f,o(f).currentTime=0),X(f,o(f).loop=!1))}function vt(){n=0,_(m,0),c.reset(),c.stop(),_(b,!1),_e(),he()}function dt(){c.togglePause()}At(()=>{$(),A=/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent)}),se();var De=ka(),Le=Ee(De);Qt(Le,s=>_(f,s),()=>o(f));var me=y(Le,2),le=x(me),He=x(le);{var ht=s=>{var k=ga(),E=Ee(k),F=y(E,2);N("click",E,dt),N("click",F,vt),O(s,k)},_t=s=>{var k=pa();N("click",k,()=>_(u,!0)),O(s,k)};Q(He,s=>{o(b)?s(ht):s(_t,!1)})}var Oe=y(He,2),mt=y(Oe,2);T(le);var be=y(le,2),ne=x(be),ge=x(ne),bt=x(ge);{var gt=s=>{var k=Je();oe(E=>St(k,E),[()=>Y(o(m))]),O(s,k)},pt=s=>{var k=Je();k.nodeValue=" ",O(s,k)};Q(bt,s=>{o(b)?s(gt):s(pt,!1)})}T(ge),T(ne);var We=y(ne,2),pe=x(We),Fe=y(pe,2);st(Fe,1,()=>o(r),ot,(s,k,E)=>{{let F=et(()=>E===o(l));oa(s,{get color(){return a[o(k)]},get border(){return o(F)},onClick:()=>B(E),onLongpress:()=>{_(S,E),_(g,!0)}})}});var qe=y(Fe,2);T(We),T(be);var ze=y(be,2);{var kt=s=>{ca(s,{onClose:()=>_(u,!1),onStart:({type:k,seconds:E,hasAlarm:F})=>de(k,E,F)})};Q(ze,s=>{o(u)&&s(kt)})}var Be=y(ze,2);{var yt=s=>{da(s,{get colors(){return a},get current(){return o(r)[o(S)]},onPick:k=>{Z(o(S),k),_(g,!1)},onClose:()=>_(g,!1)})};Q(Be,s=>{o(g)&&s(yt)})}var Ve=y(Be,2);{var Tt=s=>{_a(s,{onClose:()=>_(C,!1)})};Q(Ve,s=>{o(C)&&s(Tt)})}var Ct=y(Ve,2);{var wt=s=>{ba(s,{onClose:()=>_(w,!1),onReset:()=>{te(),_(w,!1)}})};Q(Ct,s=>{o(w)&&s(wt)})}T(me),oe((s,k,E,F,G,J)=>{W(me,`background:${s??""}; min-height:100vh; transition:background 0.15s;`),W(le,`background:${k??""}; color:${E??""}; padding: 1rem; display: flex; align-items: center; gap: 1rem;`),W(ge,`color:${F??""};`),W(pe,`color:${G??""};`),W(qe,`color:${J??""};`)},[()=>o(I)?o(p)?"#fff":"#000":v(),v,h,h,h,h]),N("click",Oe,()=>_(w,!0)),N("click",mt,()=>_(C,!0)),N("click",ne,H),N("click",pe,P),N("click",qe,q),O(e,De),ve()}export{Aa as component};
