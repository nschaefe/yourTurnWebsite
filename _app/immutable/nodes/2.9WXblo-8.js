import"../chunks/DsnmJJEf.js";import{i as se}from"../chunks/DhJbufK5.js";import{a as wt,l as Ne,e as N,o as At,s as St}from"../chunks/BiApfhNE.js";import{v as It,w as L,x as Pt,h as o,R as et,y as Et,H as Mt,z as Ke,A as ke,B as ye,K as ae,ab as Nt,af as Rt,D as Ie,G as Dt,F as ee,aB as Ye,C as tt,ax as R,aC as je,aj as at,a8 as Lt,aD as ue,I as rt,J as Ht,aE as ce,aF as Ot,aG as Te,aH as lt,ad as Wt,aI as Ft,ai as qt,aJ as zt,X as Bt,aa as Vt,aK as nt,N as Pe,aL as Ut,aM as Gt,aN as Kt,aO as Yt,M as Re,aP as jt,a6 as Jt,aQ as Xt,e as it,p as fe,l as G,t as oe,a as W,m as ve,V as _,n as w,q as y,aR as xe,o as T,f as Ee,aS as X,aA as Je}from"../chunks/BP_LslGO.js";import{p as H,i as Q,b as Qt}from"../chunks/BJ6pa5lZ.js";function ot(e,t){return t}function Zt(e,t,a){for(var r=e.items,l=[],i=t.length,n=0;n<i;n++)Ft(t[n].e,l,!0);var d=i>0&&l.length===0&&a!==null;if(d){var m=a.parentNode;qt(m),m.append(a),r.clear(),U(e,t[0].prev,t[i-1].next)}zt(l,()=>{for(var u=0;u<i;u++){var g=t[u];d||(r.delete(g.k),U(e,g.prev,g.next)),lt(g.e,!d)}})}function st(e,t,a,r,l,i=null){var n=e,d={flags:t,items:new Map,first:null},m=(t&nt)!==0;if(m){var u=e;n=L?ke(Vt(u)):u.appendChild(tt())}L&&Pt();var g=null,x=!1,C=new Map,S=et(()=>{var A=a();return Lt(A)?A:A==null?[]:at(A)}),c,f;function b(){$t(f,c,d,C,n,l,t,r,a),i!==null&&(c.length===0?g?rt(g):g=Ie(()=>i(n)):g!==null&&Ht(g,()=>{g=null}))}It(()=>{f??=Bt,c=o(S);var A=c.length;if(x&&A===0)return;x=A===0;let I=!1;if(L){var M=Et(n)===Mt;M!==(A===0)&&(n=Ke(),ke(n),ye(!1),I=!0)}if(L){for(var D=null,p,v=0;v<A;v++){if(ae.nodeType===Nt&&ae.data===Rt){n=ae,I=!0,ye(!1);break}var h=c[v],P=r(h,v);p=Me(ae,d,D,null,h,P,v,l,t,a),d.items.set(P,p),D=p}A>0&&ke(Ke())}if(L)A===0&&i&&(g=Ie(()=>i(n)));else if(Dt()){var z=new Set,B=ee;for(v=0;v<A;v+=1){h=c[v],P=r(h,v);var V=d.items.get(P)??C.get(P);V?(t&(ce|ue))!==0&&ut(V,h,v,t):(p=Me(null,d,null,null,h,P,v,l,t,a,!0),C.set(P,p)),z.add(P)}for(const[O,Z]of d.items)z.has(O)||B.skipped_effects.add(Z.e);B.add_callback(b)}else b();I&&ye(!0),o(S)}),L&&(n=ae)}function $t(e,t,a,r,l,i,n,d,m){var u=(n&Ut)!==0,g=(n&(ce|ue))!==0,x=t.length,C=a.items,S=a.first,c=S,f,b=null,A,I=[],M=[],D,p,v,h;if(u)for(h=0;h<x;h+=1)D=t[h],p=d(D,h),v=C.get(p),v!==void 0&&(v.a?.measure(),(A??=new Set).add(v));for(h=0;h<x;h+=1){if(D=t[h],p=d(D,h),v=C.get(p),v===void 0){var P=r.get(p);if(P!==void 0){r.delete(p),C.set(p,P);var z=b?b.next:c;U(a,b,P),U(a,P,z),Ce(P,z,l),b=P}else{var B=c?c.e.nodes_start:l;b=Me(B,a,b,b===null?a.first:b.next,D,p,h,i,n,m)}C.set(p,b),I=[],M=[],c=b.next;continue}if(g&&ut(v,D,h,n),(v.e.f&Te)!==0&&(rt(v.e),u&&(v.a?.unfix(),(A??=new Set).delete(v))),v!==c){if(f!==void 0&&f.has(v)){if(I.length<M.length){var V=M[0],O;b=V.prev;var Z=I[0],te=I[I.length-1];for(O=0;O<I.length;O+=1)Ce(I[O],V,l);for(O=0;O<M.length;O+=1)f.delete(M[O]);U(a,Z.prev,te.next),U(a,b,Z),U(a,te,V),c=V,b=te,h-=1,I=[],M=[]}else f.delete(v),Ce(v,c,l),U(a,v.prev,v.next),U(a,v,b===null?a.first:b.next),U(a,b,v),b=v;continue}for(I=[],M=[];c!==null&&c.k!==p;)(c.e.f&Te)===0&&(f??=new Set).add(c),M.push(c),c=c.next;if(c===null)continue;v=c}I.push(v),b=v,c=v.next}if(c!==null||f!==void 0){for(var j=f===void 0?[]:at(f);c!==null;)(c.e.f&Te)===0&&j.push(c),c=c.next;var $=j.length;if($>0){var de=(n&nt)!==0&&x===0?l:null;if(u){for(h=0;h<$;h+=1)j[h].a?.measure();for(h=0;h<$;h+=1)j[h].a?.fix()}Zt(a,j,de)}}u&&Pe(()=>{if(A!==void 0)for(v of A)v.a?.apply()}),e.first=a.first&&a.first.e,e.last=b&&b.e;for(var re of r.values())lt(re.e);r.clear()}function ut(e,t,a,r){(r&ce)!==0&&Ye(e.v,t),(r&ue)!==0?Ye(e.i,a):e.i=a}function Me(e,t,a,r,l,i,n,d,m,u,g){var x=(m&ce)!==0,C=(m&Ot)===0,S=x?C?R(l,!1,!1):je(l):l,c=(m&ue)===0?n:je(n),f={i:c,v:S,k:i,a:null,e:null,prev:a,next:r};try{if(e===null){var b=document.createDocumentFragment();b.append(e=tt())}return f.e=Ie(()=>d(e,S,c,u),L),f.e.prev=a&&a.e,f.e.next=r&&r.e,a===null?g||(t.first=f):(a.next=f,a.e.next=f.e),r!==null&&(r.prev=f,r.e.prev=f.e),f}finally{}}function Ce(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,l=t?t.e.nodes_start:a,i=e.e.nodes_start;i!==null&&i!==r;){var n=Wt(i);l.before(i),i=n}}function U(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}function ea(e,t){return e==null?null:String(e)}function F(e,t,a,r){var l=e.__style;if(L||l!==t){var i=ea(t);(!L||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}return r}const ta=Symbol("is custom element"),aa=Symbol("is html");function ie(e){if(L){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Xe(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var l=e.checked;Xe(e,"checked",null),e.checked=l}}};e.__on_r=a,Gt(a),wt()}}function Xe(e,t,a,r){var l=ra(e);L&&(l[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||l[t]!==(l[t]=a)&&(t==="loading"&&(e[Kt]=a),e.removeAttribute(t))}function ra(e){return e.__attributes??={[ta]:e.nodeName.includes("-"),[aa]:e.namespaceURI===Yt}}function la(e,t,a=t){var r=Xt(),l=new WeakSet;Ne(e,"input",i=>{var n=i?e.defaultValue:e.value;if(n=Ae(e)?Se(n):n,a(n),ee!==null&&l.add(ee),r&&n!==(n=t())){var d=e.selectionStart,m=e.selectionEnd;e.value=n??"",m!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(m,e.value.length))}}),(L&&e.defaultValue!==e.value||it(t)==null&&e.value)&&(a(Ae(e)?Se(e.value):e.value),ee!==null&&l.add(ee)),Re(()=>{var i=t();e===document.activeElement&&l.has(ee)||Ae(e)&&i===Se(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}const we=new Set;function Qe(e,t,a,r,l=r){var i=a.getAttribute("type")==="checkbox",n=e;let d=!1;if(t!==null)for(var m of t)n=n[m]??=[];n.push(a),Ne(a,"change",()=>{var u=a.__value;i&&(u=Ze(n,u,a.checked)),l(u)},()=>l(i?[]:null)),Re(()=>{var u=r();if(L&&a.defaultChecked!==a.checked){d=!0;return}i?(u=u||[],a.checked=u.includes(a.__value)):a.checked=jt(a.__value,u)}),Jt(()=>{var u=n.indexOf(a);u!==-1&&n.splice(u,1)}),we.has(n)||(we.add(n),Pe(()=>{n.sort((u,g)=>u.compareDocumentPosition(g)===4?-1:1),we.delete(n)})),Pe(()=>{if(d){var u;if(i)u=Ze(n,u,a.checked);else{var g=n.find(x=>x.checked);u=g?.__value}l(u)}})}function na(e,t,a=t){Ne(e,"change",r=>{var l=r?e.defaultChecked:e.checked;a(l)}),(L&&e.defaultChecked!==e.checked||it(t)==null)&&a(e.checked),Re(()=>{var r=t();e.checked=!!r})}function Ze(e,t,a){for(var r=new Set,l=0;l<e.length;l+=1)e[l].checked&&r.add(e[l].__value);return a||r.delete(t),Array.from(r)}function Ae(e){var t=e.type;return t==="number"||t==="range"}function Se(e){return e===""?null:+e}var ia=G("<button></button>");function oa(e,t){fe(t,!1);let a=H(t,"color",8,"#fff"),r=H(t,"border",8,!1),l=H(t,"onClick",8),i=H(t,"onLongpress",8),n=R();function d(g){_(n,setTimeout(()=>i()&&i()(),500))}function m(g){clearTimeout(o(n)),l()&&l()()}se();var u=ia();oe(()=>F(u,`background:${a()??""}; border:${r()?"3px solid #000":"none"}; width:40px; height:40px; margin:2px; border-radius:8px;`)),N("pointerdown",u,d),N("pointerup",u,m),N("pointerleave",u,()=>clearTimeout(o(n))),W(e,u),ve()}var sa=G('<input class="dialog-input svelte-19e2bah" type="number" placeholder="Seconds to go" min="1"/> <label class="dialog-checkbox svelte-19e2bah"><input type="checkbox"/> With alarm on timeout</label>',1),ua=G('<div class="dialog-backdrop svelte-19e2bah"><div class="dialog svelte-19e2bah"><h2 style="margin-bottom:1.2em; font-size:1.3em; font-weight:600; letter-spacing:0.01em;">Choose timer</h2> <div class="dialog-controls svelte-19e2bah"><label class="dialog-radio svelte-19e2bah"><input type="radio"/> With timeout</label> <label class="dialog-radio svelte-19e2bah"><input type="radio"/> Without timeout</label> <!></div> <div class="dialog-actions svelte-19e2bah"><button>Cancel</button> <button>Ok</button></div></div></div>');function ca(e,t){fe(t,!1);const a=[];let r=H(t,"onClose",8),l=H(t,"onStart",8),i=R(0),n=R(""),d=R(!0);function m(){if(o(i)===0){const p=parseInt(o(n));if(isNaN(p)||p<=0)return;l()&&l()({type:"down",seconds:p,hasAlarm:o(d)})}else l()&&l()({type:"up",seconds:0,hasAlarm:o(d)})}se();var u=ua(),g=w(u),x=y(w(g),2),C=w(x),S=w(C);ie(S),S.value=S.__value=0,xe(),T(C);var c=y(C,2),f=w(c);ie(f),f.value=f.__value=1,xe(),T(c);var b=y(c,2);{var A=p=>{var v=sa(),h=Ee(v);ie(h);var P=y(h,2),z=w(P);ie(z),xe(),T(P),la(h,()=>o(n),B=>_(n,B)),na(z,()=>o(d),B=>_(d,B)),W(p,v)};Q(b,p=>{o(i)==0&&p(A)})}T(x);var I=y(x,2),M=w(I),D=y(M,2);T(I),T(g),T(u),Qe(a,[],S,()=>o(i),p=>_(i,p)),Qe(a,[],f,()=>o(i),p=>_(i,p)),N("click",M,()=>r()()),N("click",D,m),W(e,u),ve()}var fa=G("<button></button>"),va=G('<div class="dialog-backdrop svelte-i1awfa"><div class="dialog svelte-i1awfa"><h2>Pick a color</h2> <div class="color-grid svelte-i1awfa"></div> <div style="margin-top:1em;"><button>Cancel</button></div></div></div>');function da(e,t){fe(t,!1);let a=H(t,"colors",24,()=>[]),r=H(t,"current",8,0),l=H(t,"onPick",8),i=H(t,"onClose",8);se();var n=va(),d=w(n),m=y(w(d),2);st(m,5,a,ot,(x,C,S)=>{var c=fa();oe(()=>F(c,`background:${o(C)??""}; width:40px; height:40px; border-radius:8px; border:${S===r()?"3px solid #000":"none"}; margin:2px;`)),N("click",c,()=>l()(S)),W(x,c)}),T(m);var u=y(m,2),g=w(u);T(u),T(d),T(n),N("click",g,()=>i()()),W(e,n),ve()}var ha=G('<div class="dialog-backdrop svelte-1ue2njz"><div class="dialog svelte-1ue2njz"><h2>Help</h2> <ul style="padding-left:1.2em;"><li>Press on the main screen to move to the next player.</li> <li>Add/remove players by using the + and - buttons on the right.</li> <li>Press on the player buttons to directly select a player.</li> <li>Long press on the player buttons to switch colors.</li> <li>Use "Set Timer", "Pause Timer", "Resume Timer", "Cancel Timer" to control the timer.</li> <li>"Reset" resets everything to the initial state.</li></ul> <div style="margin-top:1em;"><button>Got it!</button></div></div></div>');function _a(e,t){let a=H(t,"onClose",8);var r=ha(),l=w(r),i=y(w(l),2),n=y(w(i),2);F(n,"margin-top: 5px;");var d=y(n,2);F(d,"margin-top: 5px;");var m=y(d,2);F(m,"margin-top: 5px;");var u=y(m,2);F(u,"margin-top: 5px;");var g=y(u,2);F(g,"margin-top: 5px;"),T(i);var x=y(i,2),C=w(x);T(x),T(l),T(r),N("click",C,function(...S){a()?.apply(this,S)}),W(e,r)}var ma=G('<div class="dialog-backdrop svelte-1ue2njz"><div class="dialog svelte-1ue2njz"><h2>Please Confirm</h2> <p>Defaults will be restored. Player count will be reset to 2.</p> <div style="margin-top:1em;"><button>Cancel</button> <button>Ok</button></div></div></div>');function ba(e,t){let a=H(t,"onClose",8),r=H(t,"onReset",8);var l=ma(),i=w(l),n=y(w(i),4),d=w(n),m=y(d,2);T(n),T(i),T(l),N("click",d,function(...u){a()?.apply(this,u)}),N("click",m,function(...u){r()?.apply(this,u)}),W(e,l)}class $e{intervalId=null;seconds=0;type="down";paused=!1;hasAlarm=!1;onTick=()=>{};onTimeout=()=>{};constructor(t,a,r,l,i){this.type=t,this.seconds=a,this.hasAlarm=r,this.onTick=l,this.onTimeout=i}start(){this.paused=!1,this.clear();let t=this.type==="down"?this.seconds:0;this.onTick(t),this.intervalId=setInterval(()=>{this.paused||(this.type==="down"?(t--,t<=0?(this.onTick(0),this.clear(),this.onTimeout()):this.onTick(t)):(t++,this.onTick(t)))},1e3)}reset(){this.clear();let t=this.type==="down"?this.seconds:0;this.onTick(t)}stop(){this.clear()}togglePause(){this.paused=!this.paused}clear(){this.intervalId!==null&&(clearInterval(this.intervalId),this.intervalId=null)}}var ga=G('<button class="svelte-1ge1xfi">Pause/Resume Timer</button> <button class="svelte-1ge1xfi">Cancel Timer</button>',1),pa=G('<button class="svelte-1ge1xfi">Set Timer</button>'),ka=G('<audio src="/yourTurnWebsite/ringtone.mp3" preload="auto" style="display:none"></audio> <main class="svelte-1ge1xfi"><header class="svelte-1ge1xfi"><!> <button class="svelte-1ge1xfi">Reset</button> <button class="svelte-1ge1xfi">Help</button></header> <section style="display: flex; height: 80vh;" class="svelte-1ge1xfi"><button type="button" style="flex:1; display:flex; align-items:center; justify-content:center; background:transparent; border:none; padding:0; cursor:pointer;" aria-label="Next player"><span class="timer-display svelte-1ge1xfi"><!></span></button> <aside style="width: 180px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:0.5rem;" class="svelte-1ge1xfi"><button class="svelte-1ge1xfi">+</button> <!> <button class="svelte-1ge1xfi">-</button></aside></section> <!> <!> <!> <!></main>',1);function Aa(e,t){fe(t,!1);const a=["#3f51b5","#f44336","#4caf50","#ff9800","#00bcd4","#9e9e9e","#ffeb3b","#9c27b0","#795548","#fff"];let r=R([0,1]),l=R(0),i="down",n=0,d=!0,m=R(0),u=R(!1),g=R(!1),x=R(!1),C=R(!1),S=R(0),c=new $e(i,n,d,re,De),f=R(),b=R(!1),A=!1,I=R(!1),M=null,D=null,p=R(!1);function v(){return a[o(r)[o(l)]]}function h(){const s=v();if(!s)return"#000";const k=s.charAt(0)==="#"?s.substring(1):s,E=parseInt(k.length===3?k.split("").map(Ge=>Ge+Ge).join(""):k,16),q=E>>16&255,K=E>>8&255,J=E&255;return .2126*q/255+.7152*K/255+.0722*J/255>.5?"#000":"#fff"}function P(){o(r).length<a.length&&_(r,[...o(r).slice(0,o(l)+1),B(),...o(r).slice(o(l)+1)])}function z(){o(r).length>2&&(_(r,o(r).filter((s,k)=>k!==o(l))),_(l,Math.min(o(l),o(r).length-1)))}function B(){let s=0;for(;o(r).includes(s);)s++;return s}function V(s){_(l,s%o(r).length),o(b)&&(c.reset(),_(m,i==="down"?n:0),c.start())}function O(){V(o(l)+1),o(b)&&(c.reset(),_(m,i==="down"?n:0),c.start()),_e(),he()}function Z(s,k){X(r,o(r)[s]=k)}function te(){_(r,[0,1]),_(l,0),n=0,_(m,0),c.reset(),c.stop(),_(b,!1),_e()}function j(s){if(s===0)return"0";const k=Math.floor(s/3600),E=Math.floor(s%3600/60),q=s%60;let K=[k,E,q],J=[];for(let Y=K.length-1;Y>=0;Y--)Y-1>=0&&K[Y-1]!==0?J.unshift(K[Y].toString().padStart(2,"0")):K[Y]!==0&&J.unshift(K[Y].toString());return J.join(":")}async function $(){try{"wakeLock"in navigator&&await navigator.wakeLock.request("screen")}catch(s){console.error("WakeLock error:",s)}}function de(s,k,E){i=s,n=k,d=E,_(m,s==="down"?k:0),_(u,!1),c=new $e(i,n,d,re,De),c.reset(),c.start(),_(b,!0),$()}function re(s){_(m,s)}function De(){d&&(A?ct():ft())}function ct(){_(I,!0),_(p,!1),M=window.setInterval(()=>{_(p,!o(p))},500),D=window.setTimeout(()=>{he()},1e4)}function he(){_(I,!1),M&&(clearInterval(M),M=null),D&&(clearTimeout(D),D=null)}function ft(){o(f)&&(X(f,o(f).loop=!0),X(f,o(f).currentTime=0),o(f).play()),o(f)&&(X(f,o(f).loop=!0),X(f,o(f).currentTime=0),o(f).play())}function _e(){o(f)&&(o(f).pause(),X(f,o(f).currentTime=0),X(f,o(f).loop=!1))}function vt(){n=0,_(m,0),c.reset(),c.stop(),_(b,!1),_e(),he()}function dt(){c.togglePause()}At(()=>{$(),A=/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent)}),se();var Le=ka(),He=Ee(Le);Qt(He,s=>_(f,s),()=>o(f));var me=y(He,2),le=w(me),Oe=w(le);{var ht=s=>{var k=ga(),E=Ee(k),q=y(E,2);N("click",E,dt),N("click",q,vt),W(s,k)},_t=s=>{var k=pa();N("click",k,()=>_(u,!0)),W(s,k)};Q(Oe,s=>{o(b)?s(ht):s(_t,!1)})}var We=y(Oe,2),mt=y(We,2);T(le);var be=y(le,2),ne=w(be),ge=w(ne),bt=w(ge);{var gt=s=>{var k=Je();oe(E=>St(k,E),[()=>j(o(m))]),W(s,k)},pt=s=>{var k=Je();k.nodeValue=" ",W(s,k)};Q(bt,s=>{o(b)?s(gt):s(pt,!1)})}T(ge),T(ne);var Fe=y(ne,2),pe=w(Fe),qe=y(pe,2);st(qe,1,()=>o(r),ot,(s,k,E)=>{{let q=et(()=>E===o(l));oa(s,{get color(){return a[o(k)]},get border(){return o(q)},onClick:()=>V(E),onLongpress:()=>{_(S,E),_(g,!0)}})}});var ze=y(qe,2);T(Fe),T(be);var Be=y(be,2);{var kt=s=>{ca(s,{onClose:()=>_(u,!1),onStart:({type:k,seconds:E,hasAlarm:q})=>de(k,E,q)})};Q(Be,s=>{o(u)&&s(kt)})}var Ve=y(Be,2);{var yt=s=>{da(s,{get colors(){return a},get current(){return o(r)[o(S)]},onPick:k=>{Z(o(S),k),_(g,!1)},onClose:()=>_(g,!1)})};Q(Ve,s=>{o(g)&&s(yt)})}var Ue=y(Ve,2);{var Tt=s=>{_a(s,{onClose:()=>_(x,!1)})};Q(Ue,s=>{o(x)&&s(Tt)})}var xt=y(Ue,2);{var Ct=s=>{ba(s,{onClose:()=>_(C,!1),onReset:()=>{te(),_(C,!1)}})};Q(xt,s=>{o(C)&&s(Ct)})}T(me),oe((s,k,E,q,K,J)=>{F(me,`background:${s??""}; min-height:100vh; transition:background 0.15s;`),F(le,`background:${k??""}; color:${E??""}; padding: 1rem; display: flex; align-items: center; gap: 1rem;`),F(ge,`color:${q??""};`),F(pe,`color:${K??""};`),F(ze,`color:${J??""};`)},[()=>o(I)?o(p)?"#fff":"#000":v(),v,h,h,h,h]),N("click",We,()=>_(C,!0)),N("click",mt,()=>_(x,!0)),N("click",ne,O),N("click",pe,P),N("click",ze,z),W(e,Le),ve()}export{Aa as component};
